  [1m[35m (601.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_taiwanese_table_test"[0m
  [1m[35m (707.3ms)[0m  [1m[35mCREATE DATABASE "the_taiwanese_table_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (78.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" text, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (30.8ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos" CASCADE[0m
  [1m[35m (8.7ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "image_url" character varying, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_photos_on_post_id" ON "photos" ("post_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (33.3ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying, "content" text, "youtube_url" character varying, "saved" boolean, "category_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "featured" boolean, "views_count" integer DEFAULT 0)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (10.4ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "photos" ADD CONSTRAINT "fk_rails_94f3e9b7c2"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_9b1b26f040"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (16.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240903140554)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240903135916),
(20240903132812),
(20240903132740),
(20240903132728),
(20240903132720);[0m
  [1m[35m (4.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (4.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-09-03 15:58:33.090379', '2024-09-03 15:58:33.090385') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (27.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'd2a54a2ee6f368e5c5153785490832a8a03c6931', '2024-09-03 15:58:33.098267', '2024-09-03 15:58:33.098272') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (20.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (7.7ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 15:58:33.824708', '2024-09-03 15:58:33.824708'), (298486374, 'MyString', '2024-09-03 15:58:33.824708', '2024-09-03 15:58:33.824708');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 15:58:33.884241', '2024-09-03 15:58:33.884241'), (298486374, 'MyText', 298486374, '2024-09-03 15:58:33.884241', '2024-09-03 15:58:33.884241');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 15:58:33.893276', '2024-09-03 15:58:33.893276'), (298486374, 'MyString', 298486374, '2024-09-03 15:58:33.893276', '2024-09-03 15:58:33.893276');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 15:58:33.898303', '2024-09-03 15:58:33.898303', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 15:58:33.898303', '2024-09-03 15:58:33.898303', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (194.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.4ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 17:58:34 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2451.7ms | GC: 40.3ms)
Completed 200 OK in 2519ms (Views: 2464.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 40.3ms)
  [1m[36mTRANSACTION (9.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.2ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (22.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 3.2ms | ActiveRecord: 22.6ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Destroy (4.6ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 5.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (24.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "body"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :body. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x000000011181a850>, params: {"post"=>{"title"=>"Updated Title", "body"=>"Updated body"}, "controller"=>"posts", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (2.3ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Updated Title"], ["updated_at", "2024-09-03 15:58:37.131821"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 17ms (ActiveRecord: 3.6ms (2 queries, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (2.4ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 2.7ms | ActiveRecord: 2.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."featured" = $1 LIMIT $2[0m  [["featured", true], ["LIMIT", 3]]
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 47.9ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 48.3ms | GC: 1.2ms)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.2ms (2 queries, 0 cached) | GC: 1.2ms)
  [1m[36mTRANSACTION (23.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "body"=>"Post body"}}
[31mUnpermitted parameter: :body. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x00000001119d3138>, params: {"post"=>{"title"=>"Test Post", "body"=>"Post body"}, "controller"=>"posts", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 11ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (23.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 17:58:37 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (6.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (15.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (24.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (348.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "the_taiwanese_table_test"[0m
  [1m[35m (393.0ms)[0m  [1m[35mCREATE DATABASE "the_taiwanese_table_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (90.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (24.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "categories" CASCADE[0m
  [1m[35m (20.8ms)[0m  [1m[35mCREATE TABLE "categories" ("id" bigserial primary key, "name" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE IF EXISTS "comments" CASCADE[0m
  [1m[35m (30.3ms)[0m  [1m[35mCREATE TABLE "comments" ("id" bigserial primary key, "content" text, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_comments_on_post_id" ON "comments" ("post_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "photos" CASCADE[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "photos" ("id" bigserial primary key, "image_url" character varying, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE INDEX "index_photos_on_post_id" ON "photos" ("post_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (30.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying, "content" text, "youtube_url" character varying, "saved" boolean, "category_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, "featured" boolean, "views_count" integer DEFAULT 0)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE INDEX "index_posts_on_category_id" ON "posts" ("category_id")[0m
  [1m[35m (10.6ms)[0m  [1m[35mALTER TABLE "comments" ADD CONSTRAINT "fk_rails_2fd19c0db7"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (33.3ms)[0m  [1m[35mALTER TABLE "photos" ADD CONSTRAINT "fk_rails_94f3e9b7c2"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
[0m
  [1m[35m (2.5ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_9b1b26f040"
FOREIGN KEY ("category_id")
  REFERENCES "categories" ("id")
[0m
  [1m[35m (12.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (28.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240903140554)[0m
  [1m[35m (3.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240903135916),
(20240903132812),
(20240903132740),
(20240903132728),
(20240903132720);[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (1.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-09-03 16:05:20.606979', '2024-09-03 16:05:20.606989') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (25.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'b8e1ec8a9d26417348e3746c79203c92c0a490c5', '2024-09-03 16:05:20.611853', '2024-09-03 16:05:20.611859') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (7.2ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 16:05:21.129755', '2024-09-03 16:05:21.129755'), (298486374, 'MyString', '2024-09-03 16:05:21.129755', '2024-09-03 16:05:21.129755');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 16:05:21.193674', '2024-09-03 16:05:21.193674'), (298486374, 'MyText', 298486374, '2024-09-03 16:05:21.193674', '2024-09-03 16:05:21.193674');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 16:05:21.201360', '2024-09-03 16:05:21.201360'), (298486374, 'MyString', 298486374, '2024-09-03 16:05:21.201360', '2024-09-03 16:05:21.201360');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 16:05:21.206091', '2024-09-03 16:05:21.206091', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 16:05:21.206091', '2024-09-03 16:05:21.206091', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (44.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 18:05:21 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 758.0ms | GC: 0.0ms)
Completed 200 OK in 825ms (Views: 772.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (17.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "body"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
[31mUnpermitted parameter: :body. Context: { controller: PostsController, action: update, request: #<ActionDispatch::Request:0x0000000113a12db8>, params: {"post"=>{"title"=>"Updated Title", "body"=>"Updated body"}, "controller"=>"posts", "action"=>"update", "id"=>"980190962"} }[0m
  [1m[36mTRANSACTION (24.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (25.9ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "updated_at" = $2 WHERE "posts"."id" = $3[0m  [["title", "Updated Title"], ["updated_at", "2024-09-03 16:05:22.512344"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 40ms (ActiveRecord: 50.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (0.5ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 3.5ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (21.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (15.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mComment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "comments" WHERE "comments"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mPhoto Destroy (0.6ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPost Destroy (0.8ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 65ms (ActiveRecord: 18.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (25.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "body"=>"Post body"}}
[31mUnpermitted parameter: :body. Context: { controller: PostsController, action: create, request: #<ActionDispatch::Request:0x0000000113b6a378>, params: {"post"=>{"title"=>"Test Post", "body"=>"Post body"}, "controller"=>"posts", "action"=>"create"} }[0m
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.6ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (23.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."featured" = $1 LIMIT $2[0m  [["featured", true], ["LIMIT", 3]]
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 55.5ms | GC: 28.1ms)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | GC: 28.1ms)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 28.1ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 18:05:22 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (21.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (17.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (6.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (4.8ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 16:08:59.912503', '2024-09-03 16:08:59.912503'), (298486374, 'MyString', '2024-09-03 16:08:59.912503', '2024-09-03 16:08:59.912503');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 16:08:59.953690', '2024-09-03 16:08:59.953690'), (298486374, 'MyText', 298486374, '2024-09-03 16:08:59.953690', '2024-09-03 16:08:59.953690');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 16:08:59.964405', '2024-09-03 16:08:59.964405'), (298486374, 'MyString', 298486374, '2024-09-03 16:08:59.964405', '2024-09-03 16:08:59.964405');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 16:08:59.969421', '2024-09-03 16:08:59.969421', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 16:08:59.969421', '2024-09-03 16:08:59.969421', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (27.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (20.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:09:00 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "content"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (1.6ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "content" = $2, "updated_at" = $3 WHERE "posts"."id" = $4[0m  [["title", "Updated Title"], ["content", "Updated body"], ["updated_at", "2024-09-03 16:09:00.359218"], ["id", 980190962]]
  [1m[36mTRANSACTION (25.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 77ms (ActiveRecord: 28.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 18:09:00 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1335.6ms | GC: 0.0ms)
Completed 200 OK in 1359ms (Views: 1344.7ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (68.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 18:09:01 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."featured" = $1 LIMIT $2[0m  [["featured", true], ["LIMIT", 3]]
  [1m[36mCategory Load (1.9ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 17.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | GC: 0.0ms)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 2.4ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (21.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:09:01 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (0.7ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 2.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 18:09:01 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (19.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:09:01 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (21.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mComment Destroy (9.1ms)[0m  [1m[31mDELETE FROM "comments" WHERE "comments"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mPhoto Destroy (2.8ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPost Destroy (0.9ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 103ms (ActiveRecord: 35.1ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mCategory Load (0.2ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 18:09:02 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "content"=>"Post body", "category_id"=>"980190962"}}
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (20.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (21.2ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Test Post"], ["content", "Post body"], ["youtube_url", nil], ["saved", nil], ["category_id", 980190962], ["created_at", "2024-09-03 16:09:02.073294"], ["updated_at", "2024-09-03 16:09:02.073294"], ["featured", nil], ["views_count", 0]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190963
Completed 302 Found in 26ms (ActiveRecord: 41.6ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (1.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 18:09:02 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 18:09:02 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 18:09:02 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (12.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 18:09:02 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (25.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (3.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (4.3ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 16:13:45.591047', '2024-09-03 16:13:45.591047'), (298486374, 'MyString', '2024-09-03 16:13:45.591047', '2024-09-03 16:13:45.591047');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 16:13:45.618040', '2024-09-03 16:13:45.618040'), (298486374, 'MyText', 298486374, '2024-09-03 16:13:45.618040', '2024-09-03 16:13:45.618040');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 16:13:45.626250', '2024-09-03 16:13:45.626250'), (298486374, 'MyString', 298486374, '2024-09-03 16:13:45.626250', '2024-09-03 16:13:45.626250');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 16:13:45.658774', '2024-09-03 16:13:45.658774', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 16:13:45.658774', '2024-09-03 16:13:45.658774', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (25.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (44.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 18:13:45 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 717.0ms | GC: 0.0ms)
Completed 200 OK in 782ms (Views: 730.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 18:13:46 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (1.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mCategory Load (24.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 18:13:46 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "content"=>"Post body", "category_id"=>"980190962"}}
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (16.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (17.7ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Test Post"], ["content", "Post body"], ["youtube_url", nil], ["saved", nil], ["category_id", 980190962], ["created_at", "2024-09-03 16:13:46.885989"], ["updated_at", "2024-09-03 16:13:46.885989"], ["featured", nil], ["views_count", 0]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190963
Completed 302 Found in 46ms (ActiveRecord: 34.0ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:13:46 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (24.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (0.7ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 7.0ms | ActiveRecord: 25.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:13:46 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.5ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (16.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.9ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mComment Destroy (0.5ms)[0m  [1m[31mDELETE FROM "comments" WHERE "comments"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPhoto Load (0.4ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mPhoto Destroy (0.9ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPost Destroy (0.8ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 52ms (ActiveRecord: 20.5ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPost Count (23.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "content"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.8ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "content" = $2, "updated_at" = $3 WHERE "posts"."id" = $4[0m  [["title", "Updated Title"], ["content", "Updated body"], ["updated_at", "2024-09-03 16:13:47.062450"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 5ms (ActiveRecord: 1.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (23.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 4.9ms | ActiveRecord: 23.9ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  Rendered posts/index.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (16.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.6ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 18:13:47 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (15.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (28.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (3.8ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 16:16:53.808910', '2024-09-03 16:16:53.808910'), (298486374, 'MyString', '2024-09-03 16:16:53.808910', '2024-09-03 16:16:53.808910');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 16:16:53.820282', '2024-09-03 16:16:53.820282'), (298486374, 'MyText', 298486374, '2024-09-03 16:16:53.820282', '2024-09-03 16:16:53.820282');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 16:16:53.830372', '2024-09-03 16:16:53.830372'), (298486374, 'MyString', 298486374, '2024-09-03 16:16:53.830372', '2024-09-03 16:16:53.830372');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 16:16:53.862049', '2024-09-03 16:16:53.862049', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 16:16:53.862049', '2024-09-03 16:16:53.862049', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (78.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 18:16:54 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 823.0ms | GC: 0.0ms)
Completed 200 OK in 891ms (Views: 837.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.4ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (22.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 3.5ms | ActiveRecord: 22.3ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "content"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (16.0ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (0.9ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "content" = $2, "updated_at" = $3 WHERE "posts"."id" = $4[0m  [["title", "Updated Title"], ["content", "Updated body"], ["updated_at", "2024-09-03 16:16:55.214076"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 32ms (ActiveRecord: 17.2ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (36.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mCategory Load (0.5ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "content"=>"Post body", "category_id"=>"980190962"}}
  [1m[36mCACHE Category Load (0.1ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (15.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (16.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Test Post"], ["content", "Post body"], ["youtube_url", nil], ["saved", nil], ["category_id", 980190962], ["created_at", "2024-09-03 16:16:55.292001"], ["updated_at", "2024-09-03 16:16:55.292001"], ["featured", nil], ["views_count", 0]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190963
Completed 302 Found in 35ms (ActiveRecord: 32.4ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."featured" = $1 LIMIT $2[0m  [["featured", true], ["LIMIT", 3]]
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories"[0m
  Rendered posts/index.html.erb within layouts/application (Duration: 16.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | GC: 0.0ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.5ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (16.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (0.6ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (23.9ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mComment Destroy (0.4ms)[0m  [1m[31mDELETE FROM "comments" WHERE "comments"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPhoto Load (0.3ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mPhoto Destroy (24.5ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPost Destroy (1.5ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 79ms (ActiveRecord: 51.2ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.7ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 27.6ms | GC: 24.7ms)
Completed 200 OK in 32ms (Views: 30.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 24.7ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 18:16:55 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (14.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.9ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "posts" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL;ALTER TABLE "photos" DISABLE TRIGGER ALL;ALTER TABLE "categories" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL[0m
  [1m[35m (2.8ms)[0m  [1m[31mDELETE FROM "categories";
DELETE FROM "comments";
DELETE FROM "photos";
DELETE FROM "posts";
INSERT INTO "categories" ("id", "name", "created_at", "updated_at") VALUES (980190962, 'MyString', '2024-09-03 16:21:42.906905', '2024-09-03 16:21:42.906905'), (298486374, 'MyString', '2024-09-03 16:21:42.906905', '2024-09-03 16:21:42.906905');
INSERT INTO "comments" ("id", "content", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyText', 980190962, '2024-09-03 16:21:42.930757', '2024-09-03 16:21:42.930757'), (298486374, 'MyText', 298486374, '2024-09-03 16:21:42.930757', '2024-09-03 16:21:42.930757');
INSERT INTO "photos" ("id", "image_url", "post_id", "created_at", "updated_at") VALUES (980190962, 'MyString', 980190962, '2024-09-03 16:21:42.937970', '2024-09-03 16:21:42.937970'), (298486374, 'MyString', 298486374, '2024-09-03 16:21:42.937970', '2024-09-03 16:21:42.937970');
INSERT INTO "posts" ("id", "title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES (980190962, 'MyString', 'MyText', 'MyString', FALSE, 980190962, '2024-09-03 16:21:42.970150', '2024-09-03 16:21:42.970150', DEFAULT, DEFAULT), (298486374, 'MyString', 'MyText', 'MyString', FALSE, 298486374, '2024-09-03 16:21:42.970150', '2024-09-03 16:21:42.970150', DEFAULT, DEFAULT)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "posts" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL;ALTER TABLE "photos" ENABLE TRIGGER ALL;ALTER TABLE "categories" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.7ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
CategoriesControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mCategory Load (0.6ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories" for 127.0.0.1 at 2024-09-03 18:21:43 +0200
Processing by CategoriesController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering categories/index.html.erb within layouts/application
  Rendered categories/index.html.erb within layouts/application (Duration: 0.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 750.3ms | GC: 0.0ms)
Completed 200 OK in 814ms (Views: 763.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CategoriesControllerTest: test_should_show_category
---------------------------------------------------
  [1m[36mCategory Load (0.3ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/categories/980190962" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by CategoriesController#show as HTML
  Parameters: {"id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering categories/show.html.erb within layouts/application
  Rendered categories/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_create_post
--------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (21.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mCategory Load (0.7ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#create as HTML
  Parameters: {"post"=>{"title"=>"Test Post", "content"=>"Post body", "category_id"=>"980190962"}}
  [1m[36mCACHE Category Load (0.0ms)[0m  [1m[34mSELECT "categories".* FROM "categories" WHERE "categories"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Create (17.8ms)[0m  [1m[32mINSERT INTO "posts" ("title", "content", "youtube_url", "saved", "category_id", "created_at", "updated_at", "featured", "views_count") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["title", "Test Post"], ["content", "Post body"], ["youtube_url", nil], ["saved", nil], ["category_id", 980190962], ["created_at", "2024-09-03 16:21:44.200220"], ["updated_at", "2024-09-03 16:21:44.200220"], ["featured", nil], ["views_count", 0]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190963
Completed 302 Found in 46ms (ActiveRecord: 34.3ms (2 queries, 1 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PostsControllerTest: test_should_update_post
--------------------------------------------
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started PATCH "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#update as HTML
  Parameters: {"post"=>{"title"=>"Updated Title", "content"=>"Updated body"}, "id"=>"980190962"}
  [1m[36mPost Load (24.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPost Update (2.8ms)[0m  [1m[33mUPDATE "posts" SET "title" = $1, "content" = $2, "updated_at" = $3 WHERE "posts"."id" = $4[0m  [["title", "Updated Title"], ["content", "Updated body"], ["updated_at", "2024-09-03 16:21:44.269858"], ["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts/980190962
Completed 302 Found in 35ms (ActiveRecord: 28.3ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
PostsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962/edit" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering posts/edit.html.erb within layouts/application
  Rendered posts/edit.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (20.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mPost Load (0.7ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/index.html.erb within layouts/application
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."featured" = $1 LIMIT $2[0m  [["featured", true], ["LIMIT", 3]]
  [1m[36mPost Load (2.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" ORDER BY "posts"."views_count" DESC LIMIT $1[0m  [["LIMIT", 4]]
  Rendered posts/index.html.erb within layouts/application (Duration: 8.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | GC: 0.0ms)
Completed 200 OK in 12ms (Views: 7.4ms | ActiveRecord: 2.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------
PostsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/new" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering posts/new.html.erb within layouts/application
  Rendered posts/new.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (18.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
PostsControllerTest: test_should_show_post
------------------------------------------
  [1m[36mPost Load (0.6ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started GET "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (0.4ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Update All (0.5ms)[0m  [1m[33mUPDATE "posts" SET "views_count" = COALESCE("views_count", 0) + $1 WHERE "posts"."id" = $2[0m  [["views_count", 1], ["id", 980190962]]
  Rendering layout layouts/application.html.erb
  Rendering posts/show.html.erb within layouts/application
  Rendered posts/show.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 7ms (Views: 2.2ms | ActiveRecord: 0.8ms (2 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
PostsControllerTest: test_should_destroy_post
---------------------------------------------
  [1m[36mPost Load (0.2ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mPost Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
Started DELETE "/posts/980190962" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by PostsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mPost Load (24.8ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mComment Load (0.5ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mComment Destroy (23.2ms)[0m  [1m[31mDELETE FROM "comments" WHERE "comments"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPhoto Load (0.5ms)[0m  [1m[34mSELECT "photos".* FROM "photos" WHERE "photos"."post_id" = $1[0m  [["post_id", 980190962]]
  [1m[36mPhoto Destroy (0.5ms)[0m  [1m[31mDELETE FROM "photos" WHERE "photos"."id" = $1[0m  [["id", 980190962]]
  [1m[36mPost Destroy (0.7ms)[0m  [1m[31mDELETE FROM "posts" WHERE "posts"."id" = $1[0m  [["id", 980190962]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/posts
Completed 302 Found in 90ms (ActiveRecord: 50.4ms (6 queries, 0 cached) | GC: 0.0ms)
  [1m[36mPost Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "posts"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
CommentsControllerTest: test_should_create_comment
--------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started POST "/posts/980190962/comments" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by CommentsController#create as HTML
  Parameters: {"comment"=>{"body"=>"Test comment"}, "post_id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/create.html.erb within layouts/application
  Rendered comments/create.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (16.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
CommentsControllerTest: test_should_destroy_comment
---------------------------------------------------
  [1m[36mPost Load (0.3ms)[0m  [1m[34mSELECT "posts".* FROM "posts" WHERE "posts"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
  [1m[36mComment Load (0.3ms)[0m  [1m[34mSELECT "comments".* FROM "comments" WHERE "comments"."id" = $1 LIMIT $2[0m  [["id", 980190962], ["LIMIT", 1]]
Started DELETE "/posts/980190962/comments/980190962" for 127.0.0.1 at 2024-09-03 18:21:44 +0200
Processing by CommentsController#destroy as HTML
  Parameters: {"post_id"=>"980190962", "id"=>"980190962"}
  Rendering layout layouts/application.html.erb
  Rendering comments/destroy.html.erb within layouts/application
  Rendered comments/destroy.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
